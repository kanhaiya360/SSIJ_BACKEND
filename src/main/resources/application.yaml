spring:
  application:
    name: ${APP_NAME:akeshya}
  
#  profiles:
#    active: ${SPRING_PROFILES_ACTIVE:local}

  # ────────────────────── DATABASE (PostgreSQL) ──────────────────────
  datasource:
    url: ${DATABASE_URL:jdbc:postgresql://aws-1-ap-south-1.pooler.supabase.com:5432/postgres?sslmode=require}
    username: ${DATABASE_USERNAME:postgres.uoeyihvyeaxvhgpvomus}
    password: ${DATABASE_PASSWORD:hari@akeshya12}
    driver-class-name: org.postgresql.Driver
    hikari:
      maximum-pool-size: ${DATABASE_MAX_POOL_SIZE:20}
      minimum-idle: ${DATABASE_MIN_IDLE:5}
      connection-timeout: ${DATABASE_CONNECTION_TIMEOUT:30000}
      idle-timeout: ${DATABASE_IDLE_TIMEOUT:600000}
      max-lifetime: ${DATABASE_MAX_LIFETIME:1800000}

  # ────────────────────── JPA / HIBERNATE ──────────────────────
  jpa:
    hibernate:
      ddl-auto: ${JPA_DDL_AUTO:update}
    show-sql: ${JPA_SHOW_SQL:true}
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        format_sql: ${HIBERNATE_FORMAT_SQL:true}
        jdbc:
          lob:
            non_contextual_creation: true
        order_inserts: true
        order_updates: true
        jdbc.batch_size: ${HIBERNATE_BATCH_SIZE:20}

  sql:
    init:
      mode: never

  # ────────────────────── FILE UPLOAD CONFIGURATION ──────────────────────
  servlet:
    multipart:
      max-file-size: ${MAX_FILE_SIZE:10MB}
      max-request-size: ${MAX_REQUEST_SIZE:50MB}
      enabled: true

  # ────────────────────── STATIC RESOURCE SERVING ──────────────────────
  web:
    resources:
      static-locations:
        - "classpath:/META-INF/resources/"
        - "classpath:/resources/"
        - "classpath:/static/"
        - "classpath:/public/"
        - "file:${FILE_UPLOAD_DIR:uploads}/"

# ────────────────────── SECURITY & JWT ──────────────────────
security:
  jwt:
    secret: ${JWT_SECRET:your-very-very-long-and-random-secret-key-256-bits-minimum-please-change-in-prod}
    expiration: ${JWT_EXPIRATION:86400000}

jwt:
  secret: ${JWT_SECRET_BASE64:c2VjdXJpdHktand0LXNlY3JldC1rZXktZm9yLWFrZXNoeWEtcHJvamVjdC1zZWN1cml0eQ==}
  expiration: ${JWT_EXPIRATION:86400000}

# ────────────────────── SMS GATEWAY CENTER CONFIG ──────────────────────
sms:
  provider: ${SMS_PROVIDER:smsgatewaycenter}
  enabled: ${SMS_ENABLED:true}
  smsgatewaycenter:
    username: ${SMS_USERNAME:akeshya}
    password: ${SMS_PASSWORD:6h1bpRpC}
    base-url: ${SMS_BASE_URL:https://www.smsgateway.center/library/send_sms_2.php}
    sender-id: ${SMS_SENDER_ID:SMSGAT}
    route: ${SMS_ROUTE:TR}
    type: ${SMS_TYPE:TEXT}

# ────────────────────── OTP CONFIG ──────────────────────
otp:
  expiry-minutes: ${OTP_EXPIRY_MINUTES:5}
  length: ${OTP_LENGTH:6}
  rate-limit-minutes: ${OTP_RATE_LIMIT_MINUTES:1}

# ────────────────────── FILE UPLOAD CONFIG ──────────────────────
file:
  upload-dir: ${FILE_UPLOAD_DIR:uploads}

# ────────────────────── LOGGING ──────────────────────
logging:
  level:
    com.akeshya: ${LOG_LEVEL_AKESHYA:DEBUG}
    org.springframework.security: ${LOG_LEVEL_SECURITY:INFO}
    org.hibernate.SQL: ${LOG_LEVEL_HIBERNATE:DEBUG}
    com.akeshya.service.impl.AuthServiceImpl: ${LOG_LEVEL_AUTH:DEBUG}
    com.akeshya.service.impl.SMSTestServiceImpl: ${LOG_LEVEL_SMS:DEBUG}
    com.akeshya.service.FileStorageService: ${LOG_LEVEL_FILE:DEBUG}
    com.akeshya.service.impl.ProductServiceImpl: ${LOG_LEVEL_PRODUCT:DEBUG}
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %logger{36} - %msg%n"

server:
  port: ${SERVER_PORT:8080}
  servlet:
    context-path: ${SERVER_CONTEXT_PATH:/}
